<!DOCTYPE html>
<html>
  <head>
    <title>Income, House Price, and Mortgage Rate Data</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  </head>
  <body>
    <div id="chart-container">
      <canvas id="chart"></canvas>
    </div>
  </body>
  <script>
    // Create empty data object
    let data = {};
    // Fetch income data
    fetch("https://raw.githubusercontent.com/Cryptofundamentalism/commitcount.github.io/main/MEHOINUSA646N.csv")
      .then(response => response.text())
      .then(csv => {
        // Split data by new line
        let rows = csv.split("\n");
        // Loop through each row
        for (let i = 1; i < rows.length; i++) {
          let cells = rows[i].split(",");
          let year = cells[0];
          let income = cells[1];
          // Add data to object
          data[year] = { income: income };
        }
        // Fetch house price data
        return fetch("https://raw.githubusercontent.com/Cryptofundamentalism/commitcount.github.io/main/MSPUS.csv");
      })
      .then(response => response.text())
      .then(csv => {
        // Split data by new line
        let rows = csv.split("\n");
        // Loop through each row
        for (let i = 1; i < rows.length; i++) {
          let cells = rows[i].split(",");
          let year = cells[0];
          let housePrice = cells[1];
          // Add data to object
          if (data[year]) {
            data[year].housePrice = housePrice;
          } else {
            data[year] = { housePrice: housePrice };
          }
        }
        // Fetch Mortgage Rate data
        return fetch("https://raw.githubusercontent.com/Cryptofundamentalism/commitcount.github.io/main/MORTGAGE30US.csv");
      })
      .then(response => response.text())
      .then(csv => {
        // Split data by new line
        let rows = csv.split("\n");
        // Loop through each row
        for (let i = 1; i < rows.length; i++) {
          let cells = rows[i].split(",");
          let year = cells[0];
          let mortgageRate = cells[1];
          // Add data to object
          if (data[year]) {
            data[year].mortgageRate = mortgageRate;
          } else {
            data[year] = { mortgageRate: mortgageRate };
          }
        }
        // Create arrays for chart data
       
